server:
  port: 8080

# spring config
spring:
  config:
    activate:
      on-profile: "local"


  jpa:
    hibernate:
      ddl-auto: update
    properties:
      hibernate:
#        dialect: org.hibernate.dialect.MySQLDialect
        format_sql: true
        order_inserts: true
        order_updates: true
        jdbc:
          batch_size: 50


  datasource:
    jdbc-url: jdbc:mysql://localhost:13306/api?allowPublicKeyRetrieval=true&rewriteBatchedStatements=true
    username: root
    password: root
    driver-class-name: com.mysql.cj.jdbc.Driver


# logging config
logging:
  level:
    org:
      hibernate:
        SQL: DEBUG
        type:
          descriptor:
            sql:
              BasicBinder: TRACE
#    root: trace

## prometheus config
#management:
#  endpoint:
#    metrics:
#      enabled: true
#    prometheus:
#      enabled: true
#  endpoints:
#    web:
#      exposure:
#        include: "*"

# security config
security:
  jwt:
    token:
      validtime:
        access: 31557600000
        refresh: 31557600000
      secretkey: jwtsecretKeyhastolonghowlongidontknow
  cors:
    path-patterns: "/**"
    origin-patterns: "http://localhost:3000"
    allowed-methods: "*"
    allowed-headers: "*"
    exposed-headers: "Set-Cookie, Authorization, Content-Type, X-Requested-With, Accept, Origin, Access-Control-Request-Method, Access-Control-Request-Headers, Access-Control-Allow-Origin, Access-Control-Allow-Credentials"
    allow-credentials: true
    max-age: 1800

# cookie config
cookie:
  domain: localhost
  path: /
  max-age: 86400

# api docs config
springdoc:
  swagger-ui:
    url: /docs/openapi3.yaml
    path: /swagger


client:
  max-attempts: 3
  pool:
    max-connect: 100
    max-connect-per-route: 5
  timeout:
    connect: 5000
    read: 5000
  retry:
    maxAttempts: 3
    backOffPeriod: 2000

kakao:
  host: https://kauth.kakao.com
  adminKey: adminKey
  uri:
    token: https://kauth.kakao.com/oauth/token
    token_info: https://kapi.kakao.com/v1/user/access_token_info
    me_info: https://kapi.kakao.com/v2/user/me
    unlink: https://kapi.kakao.com/v1/user/unlink
  redirect_uri: http://localhost:8080/api/v1/social/kakao
  client_id: thisIsKaKaoClientId


#  google:
#    client-id: {google-client-id}
#    client-secret: {google-client-secret}
#    redirect-uri: {base-url}/login/oauth2/code/google	# 인증 완료 후 인가 코드를 받을 URI
#    authorization-grant-type: authorization_code
#    scope: profile, email	# 인가 후 받아올 사용자 정보 범위

#  kakao:
#    client-id: {kakao-client-id}
#    redirect-uri: {base-url}/login/oauth2/code/kako
#    client-authentication-method: POST
#    authorization-grant-type: authorization_code
#    scope: profile_nickname, profile_image
#    client-name: Kakao
#
#  naver:
#    client-id: {naver-client-id}
#    client-secret: {naver-client-secret}
#    redirect-uri: {base-url}/login/oauth2/code/naver
#    authorization-grant-type: authorization_code
#    scope: nickname, email, profile_image
#    client-name: Naver

  provider:
    kakao:
      authorization_uri: https://kauth.kakao.com/oauth/authorize
      token_uri: https://kauth.kakao.com/oauth/token
      user-info-uri: https://kapi.kakao.com/v2/user/me
      user_name_attribute: id

    naver:
      authorization_uri: https://nid.naver.com/oauth2.0/authorize
      token_uri: https://nid.naver.com/oauth2.0/token
      user-info-uri: https://openapi.naver.com/v1/nid/me
      user_name_attribute: response


apple:
  team-id: YBU3PRP9U5
  login-key: NVQCY93247
  client-id: "necklife.shop.somart.com"
  redirect-url: "https://necklife.shop/api/callback/apple"
  key-path: "key/AuthKey_NVQCY93247.p8"
  oauth-uri : "https://appleid.apple.com"

